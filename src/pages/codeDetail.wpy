<template>
  <view class="code__wrapper">
    <repeat for="{{ dataSource }}" key="index" index="index" item="item">
      <view class="code__line">
        <text class="index">{{ index + 1 }}</text><text>{{ item }}</text>
      </view>
    </repeat>
  </view>
</template>

<script>
import wepy from 'wepy'

export default class CodeDetail extends wepy.page {
  config = {
    navigationBarTitleText: 'source code'
  }

  data = {
    dataSource: [
      '222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222',
      '222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222',
      '222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222',
      '222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222',
      '222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222',
      '222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222',
      '222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222',
      '222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222',
      '222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222',
      '222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222',
    ]
  }

  async onLoad(options) {
    const {
      url = ''
    } = options

    if (url) {
      // TODO :解析
    }
  }
}
</script>

<style lang='less'>
  .code__wrapper {
    overflow: scroll;

    .code__line {
      white-space: nowrap;
      .index {
        width: 100rpx;
        color: rgba(0, 0, 0, .5);
        margin-right: 20rpx;
        text-align: center;
        border-right: 1rpx solid rgba(0, 0, 0, .5);
        display: inline-block;
        width: 100rpx;
      }
    }
  }
</style>
